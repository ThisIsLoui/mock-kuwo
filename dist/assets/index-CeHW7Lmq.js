import{q as j,r as d,s as f,t as g,j as s,F as v,v as N,w as C,o as y}from"./index-VZJwm443.js";import{M as p}from"./MyLi-K0SkcbqV.js";import{P as k}from"./PlaylistCard-BTNLiUlq.js";import{M as w}from"./MyPaginate-DnZ-J8KC.js";import"./index-Cr30qKkB.js";import"./countTransform--_YRgHiL.js";const P="_menu_1p73o_1",M="_left_1p73o_7",F="_right_1p73o_20",b="_order_1p73o_23",S="_active_1p73o_37",W="_box_1p73o_50",A="_tags_1p73o_62",B="_tag_1p73o_62",G="_title_1p73o_75",R="_list_1p73o_91",t={menu:P,left:M,right:F,order:b,active:S,box:W,tags:A,tag:B,title:G,list:R};function E(e){return j({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"},child:[]},{tag:"path",attr:{d:"M7 7h.01"},child:[]}]})(e)}function I({selectedTag:e,setSelectedTag:m,setCurrentPage:h}){const o=d.useRef(null),a=d.useRef(null),[l,r]=d.useState(!1);f(()=>{l&&r(!1)},[o,a]);const _=n=>{m(n),r(!1),h(0)},{data:c}=g();return s.jsxs("div",{className:t.menu,children:[s.jsxs("div",{ref:a,onClick:()=>r(!l),className:t.left,children:[s.jsx("h3",{children:e.startsWith("default")?"精选歌单":c==null?void 0:c.data.map(n=>{var i;return(i=n.data.find(x=>x.id===e))==null?void 0:i.name}).join("")}),l?s.jsx(v,{}):s.jsx(N,{})]}),e.startsWith("default")&&s.jsx("div",{className:t.right,children:s.jsxs("ul",{className:t.order,children:[s.jsx("li",{onClick:()=>{_("default_new")},className:e==="default_new"?t.active:"",children:"最新"}),s.jsx("li",{onClick:()=>{_("default_hot")},className:e==="default_hot"?t.active:"",children:"最热"})]})}),s.jsx("div",{style:{display:l?"block":"none"},ref:o,className:t.box,children:s.jsxs("div",{className:t.tags,children:[s.jsxs("div",{className:t.tag,children:[s.jsxs("div",{className:t.title,children:[s.jsx(E,{}),"默认"]}),s.jsx("ul",{className:t.list,children:s.jsx(p,{onClick:()=>_("default_new"),isActive:e.startsWith("default"),children:"精选歌单"})})]}),c==null?void 0:c.data.map(n=>n.data.length!==0&&s.jsxs("div",{className:t.tag,children:[s.jsx("div",{className:t.title,children:s.jsx("img",{src:n.img1,alt:""})}),s.jsx("ul",{className:t.list,children:n.data.map(i=>s.jsx(p,{onClick:()=>_(i.id),isActive:e===i.id,children:i.name},i.id))})]},n.id))]})})]})}const O="_wrapper_1mp7y_1",Q="_list_1mp7y_4",$="_paginate_1mp7y_9",u={wrapper:O,list:Q,paginate:$};function J(){const[e,m]=d.useState("default_new"),[h,o]=d.useState(1),{data:a,isFetching:l}=C({id:e,pn:h});return s.jsx(s.Fragment,{children:s.jsx("main",{className:"container",children:s.jsxs("div",{className:u.wrapper,children:[s.jsx(I,{selectedTag:e,setCurrentPage:o,setSelectedTag:m}),l?s.jsx(y,{style:{marginTop:"80px"}}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:u.list,children:a==null?void 0:a.data.data.map(r=>s.jsx(k,{playlist:r},r.id))}),s.jsx("div",{className:u.paginate,children:s.jsx(w,{currentPage:h,setCurrentPage:o,pageCount:a!=null&&a.data.total?Math.ceil(+(a==null?void 0:a.data.total)/20):0})})]})]})})})}export{J as default};
