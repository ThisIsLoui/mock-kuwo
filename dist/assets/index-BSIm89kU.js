import{r as x,j as s,M as g,k,l as b,c as f,m as u,n as d,G as v,o as C}from"./index-D_FUGIIp.js";import{C as N}from"./index-DXscpGgE.js";import{I as R}from"./index-BUeTSdxD.js";import{A as w}from"./index-vgXJCGMk.js";import{M as I}from"./MusicList-D8qOBqQf.js";import{M as P}from"./MyPaginate-Bjy7FdvU.js";import{C as S}from"./CommentList-7nqey51D.js";const T="_box_1tk2k_1",G="_top_1tk2k_9",A="_active_1tk2k_25",M="_bottom_1tk2k_38",B="_right_1tk2k_60",o={box:T,top:G,active:A,bottom:M,right:B};function E({rankMenuList:e,selectedRank:n,setSelectedRank:p,setCurrentPage:i}){const[r,a]=x.useState(0);return s.jsxs("div",{className:o.box,children:[s.jsx("div",{className:o.top,children:e==null?void 0:e.data.slice(0,3).map((t,l)=>s.jsx("p",{onClick:()=>a(l),className:r===l?o.active:"",children:t.name},t.name))}),s.jsx("ul",{className:o.bottom,children:e==null?void 0:e.data.slice(0,3)[r].list.map(t=>s.jsxs("li",{onClick:()=>{t.sourceid&&(p(t.sourceid),i(1))},className:n===t.sourceid?o.active:"",children:[s.jsx(g,{src:t.pic}),s.jsxs("div",{className:o.right,children:[s.jsx("h4",{children:t.name}),s.jsx("p",{children:t.pub})]})]},t.id))})]})}const F="_wrapper_1ryk4_1",Q="_right_1ryk4_7",$="_list_1ryk4_11",D="_info_1ryk4_11",H="_btns_1ryk4_30",O="_paginate_1ryk4_36",c={wrapper:F,right:Q,list:$,info:D,btns:H,paginate:O};function X(){const{data:e}=k(),[n,p]=x.useState("93"),[i,r]=x.useState(1),{data:a,isFetching:t}=b({bangId:n,pn:i}),{playMany:l,addManyToList:h}=f(),{openModalWithDefaultText:j}=u();return s.jsx(s.Fragment,{children:s.jsx("main",{className:"container",children:s.jsxs("div",{className:c.wrapper,children:[s.jsx(E,{rankMenuList:e,selectedRank:n,setCurrentPage:r,setSelectedRank:p}),s.jsxs("div",{className:c.right,children:[t?s.jsx(C,{style:{marginTop:"100px"}}):s.jsxs("div",{className:c.list,children:[s.jsxs("div",{className:c.info,children:[s.jsx("h2",{children:e==null?void 0:e.data.map(_=>{var m;return(m=_.list.find(y=>y.sourceid===n))==null?void 0:m.name}).join("")}),s.jsxs("p",{children:["更新时间：",a==null?void 0:a.data.pub]})]}),s.jsxs("div",{className:c.btns,children:[s.jsx(d,{onClick:()=>l(a==null?void 0:a.data.musicList),icon:s.jsx(N,{}),type:"yellow",children:"播放全部"}),s.jsx(d,{onClick:()=>h(a==null?void 0:a.data.musicList),icon:s.jsx(R,{}),children:"添加"}),s.jsx(d,{onClick:j,icon:s.jsx(w,{}),children:"收藏"}),s.jsx(d,{onClick:j,icon:s.jsx(v,{}),children:"评论"})]}),s.jsx(I,{type:"rank",currentPage:i,list:(a==null?void 0:a.data.musicList)??[]}),s.jsx("div",{className:c.paginate,children:s.jsx(P,{currentPage:i,setCurrentPage:r,pageCount:a!=null&&a.data.num?+(a==null?void 0:a.data.num)/20:0})})]}),s.jsx(S,{type:"rank",id:n})]})]})})})}export{X as default};
